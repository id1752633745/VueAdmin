(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22561a"],{e3c9:function(e,t,l){"use strict";l.r(t);var r=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-form",{attrs:{inline:!0}},[l("el-form-item",[e.hasAuth("sys:menu:save")?l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("新增")]):e._e()],1)],1),l("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.tableData,"row-key":"id",border:"",stripe:"","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[l("el-table-column",{attrs:{prop:"name",label:"名称",sortable:"",width:"180"}}),l("el-table-column",{attrs:{prop:"perms",label:"权限编码",sortable:"",width:"180"}}),l("el-table-column",{attrs:{prop:"icon",label:"图标"}}),l("el-table-column",{attrs:{prop:"type",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.type?l("el-tag",{attrs:{size:"small"}},[e._v("目录")]):1===t.row.type?l("el-tag",{attrs:{size:"small",type:"success"}},[e._v("菜单")]):2===t.row.type?l("el-tag",{attrs:{size:"small",type:"info"}},[e._v("按钮")]):e._e()]}}])}),l("el-table-column",{attrs:{prop:"path",label:"菜单URL"}}),l("el-table-column",{attrs:{prop:"component",label:"菜单组件"}}),l("el-table-column",{attrs:{prop:"orderNum",label:"排序号"}}),l("el-table-column",{attrs:{prop:"statu",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.statu?l("el-tag",{attrs:{size:"small",type:"success"}},[e._v("正常")]):0===t.row.statu?l("el-tag",{attrs:{size:"small",type:"danger"}},[e._v("禁用")]):e._e()]}}])}),l("el-table-column",{attrs:{prop:"path",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text"},on:{click:function(l){return e.editHandle(t.row.id)}}},[e._v("编辑")]),l("el-divider",{attrs:{direction:"vertical"}}),[l("el-popconfirm",{attrs:{title:"这是一段内容确定删除吗？"},on:{confirm:function(l){return e.delHandle(t.row.id)}}},[l("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v("删除")])],1)]]}}])})],1),l("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"600px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[l("el-form",{ref:"editForm",staticClass:"demo-editForm",attrs:{model:e.editForm,rules:e.editFormRules,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"上级菜单",prop:"parentId"}},[l("el-select",{attrs:{placeholder:"请选择上级菜单"},model:{value:e.editForm.parentId,callback:function(t){e.$set(e.editForm,"parentId",t)},expression:"editForm.parentId"}},[e._l(e.tableData,(function(t){return[l("el-option",{attrs:{label:t.name,value:t.id}}),e._l(t.children,(function(t){return[l("el-option",{attrs:{label:t.name,value:t.id}},[l("span",[e._v(e._s("- "+t.name))])])]}))]}))],2)],1),l("el-form-item",{attrs:{label:"菜单名称",prop:"name","label-width":"100px"}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),l("el-form-item",{attrs:{label:"权限编码",prop:"perms","label-width":"100px"}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:e.editForm.perms,callback:function(t){e.$set(e.editForm,"perms",t)},expression:"editForm.perms"}})],1),l("el-form-item",{attrs:{label:"图标",prop:"icon","label-width":"100px"}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:e.editForm.icon,callback:function(t){e.$set(e.editForm,"icon",t)},expression:"editForm.icon"}})],1),l("el-form-item",{attrs:{label:"菜单URL",prop:"path","label-width":"100px"}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:e.editForm.path,callback:function(t){e.$set(e.editForm,"path",t)},expression:"editForm.path"}})],1),l("el-form-item",{attrs:{label:"菜单组件",prop:"component","label-width":"100px"}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:e.editForm.component,callback:function(t){e.$set(e.editForm,"component",t)},expression:"editForm.component"}})],1),l("el-form-item",{attrs:{label:"类型",prop:"type","label-width":"100px"}},[l("el-radio-group",{model:{value:e.editForm.type,callback:function(t){e.$set(e.editForm,"type",t)},expression:"editForm.type"}},[l("el-radio",{attrs:{label:0}},[e._v("目录")]),l("el-radio",{attrs:{label:1}},[e._v("菜单")]),l("el-radio",{attrs:{label:2}},[e._v("按钮")])],1)],1),l("el-form-item",{attrs:{label:"状态",prop:"statu","label-width":"100px"}},[l("el-radio-group",{model:{value:e.editForm.statu,callback:function(t){e.$set(e.editForm,"statu",t)},expression:"editForm.statu"}},[l("el-radio",{attrs:{label:0}},[e._v("禁用")]),l("el-radio",{attrs:{label:1}},[e._v("正常")])],1)],1),l("el-form-item",{attrs:{label:"排序号",prop:"orderNum","label-width":"100px"}},[l("el-input-number",{attrs:{min:1,label:"排序号"},model:{value:e.editForm.orderNum,callback:function(t){e.$set(e.editForm,"orderNum",t)},expression:"editForm.orderNum"}},[e._v("1")])],1),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("editForm")}}},[e._v("立即创建")]),l("el-button",{on:{click:function(t){return e.resetForm("editForm")}}},[e._v("重置")])],1)],1)],1)},o=[],a={name:"Menu",data:function(){return{dialogVisible:!1,editForm:{},editFormRules:{parentId:[{required:!0,message:"请选择上级菜单",trigger:"blur"}],name:[{required:!0,message:"请输入名称",trigger:"blur"}],perms:[{required:!0,message:"请输入权限编码",trigger:"blur"}],type:[{required:!0,message:"请选择状态",trigger:"blur"}],orderNum:[{required:!0,message:"请填入排序号",trigger:"blur"}],statu:[{required:!0,message:"请选择状态",trigger:"blur"}]},tableData:[]}},created:function(){this.getMenuTree()},methods:{getMenuTree:function(){var e=this;this.$axios.get("/sys/menu/list").then((function(t){e.tableData=t.data.data}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.$axios.post("/sys/menu/"+(t.editForm.id?"update":"save"),t.editForm).then((function(e){t.$message({showClose:!0,message:"恭喜你，操作成功",type:"success",onClose:function(){t.getMenuTree()}}),t.dialogVisible=!1}))}))},editHandle:function(e){var t=this;this.$axios.get("/sys/menu/info/"+e).then((function(e){t.editForm=e.data.data,t.dialogVisible=!0}))},resetForm:function(e){this.$refs[e].resetFields(),this.dialogVisible=!1,this.editForm={}},handleClose:function(){this.resetForm("editForm")},delHandle:function(e){var t=this;this.$axios.post("/sys/menu/delete/"+e).then((function(e){t.$message({showClose:!0,message:"恭喜你，操作成功",type:"success",onClose:function(){t.getMenuTree()}})}))}}},i=a,s=l("2877"),n=Object(s["a"])(i,r,o,!1,null,"44350b70",null);t["default"]=n.exports}}]);
//# sourceMappingURL=chunk-2d22561a.3d660e0e.js.map